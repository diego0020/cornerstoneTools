<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Core][1]
    -   [addTool][2]
        -   [Parameters][3]
    -   [addToolForElement][4]
        -   [Parameters][5]
    -   [setToolOptions][6]
        -   [Parameters][7]
    -   [setToolOptions][8]
        -   [Parameters][9]
    -   [setToolOptionsForElement][10]
        -   [Parameters][11]
-   [Tool Modes][12]
    -   [setToolActiveForElement][13]
        -   [Parameters][14]
    -   [setToolPassiveForElement][15]
        -   [Parameters][16]
    -   [setToolEnabledForElement][17]
        -   [Parameters][18]
    -   [setToolDisabledForElement][19]
        -   [Parameters][20]
-   [setRadius][21]
    -   [Parameters][22]
-   [setBrushColorMap][23]
    -   [Parameters][24]
-   [enabledElementCallback][25]
    -   [Parameters][26]
-   [onRegisterCallback][27]
-   [registerModule][28]
    -   [Parameters][29]
-   [removeToolForElement][30]
    -   [Parameters][31]
-   [removeTool][32]
    -   [Parameters][33]
    -   [Parameters][34]
-   [onImageRenderedBrushEventHandler][35]
    -   [Parameters][36]
-   [\_drawImageBitmap][37]
    -   [Parameters][38]
-   [enable][39]
    -   [Parameters][40]
-   [enable][41]
    -   [Parameters][42]
-   [mouseDown][43]
    -   [Parameters][44]
-   [mouseMove][45]
    -   [Parameters][46]
-   [onNewImageBrushEventHandler][47]
    -   [Parameters][48]
-   [removeEnabledElement][49]
    -   [Parameters][50]
-   [setToolModeForElement][51]
    -   [Parameters][52]
-   [setToolMode][53]
    -   [Parameters][54]
-   [createNewMeasurement][55]
    -   [Parameters][56]
-   [pointNearTool][57]
    -   [Parameters][58]
-   [renderToolData][59]
    -   [Parameters][60]
-   [addNewMeasurement][61]
    -   [Parameters][62]
-   [createNewMeasurement][63]
    -   [Parameters][64]
-   [pointNearTool][65]
    -   [Parameters][66]
-   [distanceFromPoint][67]
    -   [Parameters][68]
-   [renderToolData][69]
    -   [Parameters][70]
-   [mouseMoveCallback][71]
    -   [Parameters][72]
-   [handleSelectedCallback][73]
    -   [Parameters][74]
-   [toolSelectedCallback][75]
    -   [Parameters][76]
-   [createNewMeasurement][77]
    -   [Parameters][78]
-   [pointNearTool][79]
    -   [Parameters][80]
-   [renderToolData][81]
    -   [Parameters][82]
-   [createNewMeasurement][83]
    -   [Parameters][84]
-   [pointNearTool][85]
    -   [Parameters][86]
-   [renderToolData][87]
    -   [Parameters][88]
-   [applyActiveStrategy][89]
    -   [Parameters][90]
-   [\_applyMixins][91]
    -   [Parameters][92]
    -   [Parameters][93]
    -   [Parameters][94]
    -   [Parameters][95]
    -   [Parameters][96]
-   [passiveCallback][97]
    -   [Parameters][98]
-   [passiveCallback][99]
    -   [Parameters][100]
-   [enabledCallback][101]
    -   [Parameters][102]
-   [activeCallback][103]
    -   [Parameters][104]
-   [defaultStrategy][105]
    -   [Parameters][106]
-   [defaultStrategy][107]
    -   [Parameters][108]
-   [minimalStrategy][109]
    -   [Parameters][110]
-   [createNewMeasurement][111]
    -   [Parameters][112]
-   [pointNearTool][113]
    -   [Parameters][114]
-   [renderToolData][115]
    -   [Parameters][116]
-   [createNewMeasurement][117]
    -   [Parameters][118]
-   [pointNearTool][119]
    -   [Parameters][120]
-   [distanceFromPoint][121]
    -   [Parameters][122]
-   [distanceFromPointCanvas][123]
    -   [Parameters][124]
-   [renderToolData][125]
    -   [Parameters][126]
-   [addNewMeasurement][127]
    -   [Parameters][128]
-   [preMouseDownCallback][129]
    -   [Parameters][130]
-   [handleSelectedCallback][131]
    -   [Parameters][132]
-   [\_drawingMouseMoveCallback][133]
    -   [Parameters][134]
-   [\_drawingMouseDownCallback][135]
    -   [Parameters][136]
-   [\_editMouseDragCallback][137]
    -   [Parameters][138]
-   [\_editMouseUpCallback][139]
    -   [Parameters][140]
-   [\_dropHandle][141]
    -   [Parameters][142]
-   [\_checkHandlesPolygonMode][143]
    -   [Parameters][144]
-   [insertOrDelete][145]
    -   [Parameters][146]
-   [deletePoint][147]
    -   [Parameters][148]
-   [insertPoint][149]
    -   [Parameters][150]
-   [getInsertionIndex][151]
    -   [Parameters][152]
-   [constructor][153]
    -   [Parameters][154]
-   [findLine][155]
-   [findTool][156]
-   [\_nearestHandleToPointAllTools][157]
-   [\_nearestHandleToPoint][158]
    -   [Parameters][159]
-   [\_getCloseLinesInTool][160]
    -   [Parameters][161]
-   [\_findCorrectLine][162]
    -   [Parameters][163]
-   [\_pointProjectsToLineSegment][164]
    -   [Parameters][165]
-   [\_getLineOriginToMouseAsVector][166]
    -   [Parameters][167]
-   [\_distanceOfPointfromLine][168]
    -   [Parameters][169]
-   [getCanvasPointsFromHandles][170]
    -   [Parameters][171]
-   [getLineAsVector][172]
    -   [Parameters][173]
-   [getNextHandleIndex][174]
    -   [Parameters][175]
-   [ClickedLineData][176]
    -   [Properties][177]
-   [freehandArea][178]
    -   [Parameters][179]
-   [calculateFreehandStatistics][180]
    -   [Parameters][181]
-   [getSum][182]
    -   [Parameters][183]
-   [sumPointIfInFreehand][184]
    -   [Parameters][185]
-   [pointInFreehand][186]
    -   [Parameters][187]
-   [isEnclosedY][188]
    -   [Parameters][189]
-   [isLineRightOfPoint][190]
    -   [Parameters][191]
-   [lineSegmentAtPoint][192]
    -   [Parameters][193]
-   [rayFromPointCrosssesLine][194]
    -   [Parameters][195]
-   [newHandle][196]
    -   [Parameters][197]
-   [newHandle][198]
    -   [Parameters][199]
-   [end][200]
    -   [Parameters][201]
-   [modify][202]
    -   [Parameters][203]
-   [doesIntersectOtherLines][204]
    -   [Parameters][205]
-   [doesIntersect][206]
    -   [Parameters][207]
-   [orientation][208]
    -   [Parameters][209]
-   [onSegment][210]
    -   [Parameters][211]
-   [FreehandHandleData][212]
    -   [Properties][213]
-   [renderToolData][214]
    -   [Parameters][215]
-   [preMouseDownCallback][216]
    -   [Parameters][217]
-   [activeMouseDragCallback][218]
    -   [Parameters][219]
-   [activeMouseUpCallback][220]
    -   [Parameters][221]
-   [newImageCallback][222]
    -   [Parameters][223]
-   [enabledCallback][224]
    -   [Parameters][225]
-   [passiveCallback][226]
    -   [Parameters][227]
-   [disabledCallback][228]
    -   [Parameters][229]
-   [getDefaultFreehandSculpterMouseToolConfiguration][230]
-   [changeTextCallback][231]
    -   [Parameters][232]
-   [createNewMeasurement][233]
    -   [Parameters][234]
-   [pointNearTool][235]
    -   [Parameters][236]
-   [renderToolData][237]
    -   [Parameters][238]
-   [\_drawZoomedElement][239]
    -   [Parameters][240]
-   [\_removeZoomElement][241]
-   [\_createMagnificationCanvas][242]
    -   [Parameters][243]
-   [\_destroyMagnificationCanvas][244]
    -   [Parameters][245]
-   [createNewMeasurement][246]
    -   [Parameters][247]
-   [pointNearTool][248]
    -   [Parameters][249]
-   [renderToolData][250]
    -   [Parameters][251]
-   [createNewMeasurement][252]
    -   [Parameters][253]
-   [pointNearTool][254]
    -   [Parameters][255]
-   [renderToolData][256]
    -   [Parameters][257]
-   [angleBetweenPoints][258]
    -   [Parameters][259]
-   [computeScaleBounds][260]
    -   [Parameters][261]
-   [drawVerticalScalebarIntervals][262]
    -   [Parameters][263]
-   [basicLevelingStrategy][264]
    -   [Parameters][265]
-   [\_startOutliningRegion][266]
    -   [Parameters][267]
-   [\_setHandlesAndUpdate][268]
    -   [Parameters][269]
-   [\_applyStrategy][270]
    -   [Parameters][271]
-   [\_resetHandles][272]
-   [isEmptyObject][273]
    -   [Parameters][274]
-   [applyWWWCRegion][275]
    -   [Parameters][276]
-   [calculateMinMaxMean][277]
    -   [Parameters][278]
-   [touchPinchCallback][279]
    -   [Parameters][280]
-   [mouseWheelCallback][281]
    -   [Parameters][282]
-   [convertToVector3][283]
    -   [Parameters][284]
-   [renderBrush][285]
    -   [Parameters][286]
-   [renderBrush][287]
    -   [Parameters][288]
-   [\_paint][289]
    -   [Parameters][290]
-   [mouseDragCallback][291]
    -   [Parameters][292]
-   [preMouseDownCallback][293]
    -   [Parameters][294]
-   [\_startPainting][295]
    -   [Parameters][296]
-   [mouseMoveCallback][297]
    -   [Parameters][298]
-   [passiveCallback][299]
    -   [Parameters][300]
-   [renderToolData][301]
    -   [Parameters][302]
-   [\_getBrushColor][303]
    -   [Parameters][304]
-   [\_drawingMouseUpCallback][305]
    -   [Parameters][306]
-   [\_startListeningForMouseUp][307]
    -   [Parameters][308]
-   [\_stopListeningForMouseUp][309]
    -   [Parameters][310]
-   [nextSegmentation][311]
-   [previousSegmentation][312]
-   [increaseBrushSize][313]
-   [decreaseBrushSize][314]
-   [showSegmentationOnElement][315]
    -   [Parameters][316]
-   [hideSegmentationOnElement][317]
    -   [Parameters][318]
-   [showAllSegmentationsOnElement][319]
-   [hideAllSegmentationsOnElement][320]
-   [getNumberOfColors][321]
-   [getReferencedToolDataName][322]
-   [setContextToDisplayFontSize][323]
    -   [Parameters][324]
-   [makeUnselectable][325]
    -   [Parameters][326]
-   [drawCircle][327]
    -   [Parameters][328]
-   [drawCircle][329]
    -   [Parameters][330]
-   [triggerEvent][331]
    -   [Parameters][332]
-   [getPlayClipTimeouts][333]
    -   [Parameters][334]
-   [stopClipWithData][335]
    -   [Parameters][336]
-   [triggerStopEvent][337]
    -   [Parameters][338]
-   [playClip][339]
    -   [Parameters][340]
-   [stopClip][341]
    -   [Parameters][342]
-   [getToolOptions][343]
    -   [Parameters][344]
-   [clearToolOptions][345]
    -   [Parameters][346]
-   [clearToolOptionsByToolType][347]
    -   [Parameters][348]
-   [clearToolOptionsByElement][349]
    -   [Parameters][350]
-   [getNewContext][351]
    -   [Parameters][352]
-   [FillStyle][353]
-   [StrokeStyle][354]
-   [ContextFn][355]
    -   [Parameters][356]
-   [draw][357]
    -   [Parameters][358]
-   [path][359]
    -   [Parameters][360]
-   [setShadow][361]
    -   [Parameters][362]
-   [drawLine][363]
    -   [Parameters][364]
-   [drawLines][365]
    -   [Parameters][366]
-   [drawJoinedLines][367]
    -   [Parameters][368]
-   [drawEllipse][369]
    -   [Parameters][370]
-   [drawRect][371]
    -   [Parameters][372]
-   [fillBox][373]
    -   [Parameters][374]
-   [fillTextLines][375]
    -   [Parameters][376]

## Core

This section needs a description


### addTool

#### Parameters

-   `apiTool`  
-   `tool` **baseTool** 

### addToolForElement

#### Parameters

-   `element` **any** 
-   `apiTool`  
-   `tool` **baseTool** 

### setToolOptions

Set the options object associated with a particular toolType and element

#### Parameters

-   `toolType` **[string][377]** Tool type identifier of the target options object
-   `element` **[HTMLElement][378]** Element of the target options object
-   `options` **[Object][379]** Options object to store at target

Returns **void** 

### setToolOptions

#### Parameters

-   `toolName` **[string][377]** 
-   `options` **[Object][379]** 

### setToolOptionsForElement

#### Parameters

-   `element` **any** 
-   `toolName` **[string][377]** 
-   `options` **[Object][379]** 

## Tool Modes

This section needs a description


### setToolActiveForElement

Sets a tool's state to 'active'. Active tools are rendered,
respond to user input, and can create new data

#### Parameters

-   `element` **any** 
-   `toolName` **any** 
-   `options` **any** 

### setToolPassiveForElement

Sets a tool's state to 'passive'. Passive tools are rendered and respond to user input,
but do not create new measurements or annotations.

#### Parameters

-   `element` **any** 
-   `toolName` **any** 
-   `options` **any** 

### setToolEnabledForElement

Sets a tool's state to 'enabled'. Enabled tools are rendered,
but do not respond to user input

#### Parameters

-   `element` **any** 
-   `toolName` **any** 
-   `options` **any** 

### setToolDisabledForElement

Sets a tool's state to 'disabled'. Disabled tools are not rendered,
and do not respond to user input

#### Parameters

-   `element` **any** 
-   `toolName` **any** 
-   `options` **any** 

## setRadius

Sets the brush radius, account for global min/max radius

### Parameters

-   `radius` **any** 

## setBrushColorMap

TODO: Should this be a init config property?
Sets the brush color map to something other than the default

### Parameters

-   `colors` **[Array][380]** An array of 4D [red, green, blue, alpha] arrays.

## enabledElementCallback

enabledElementCallback - Element specific initilisation.

### Parameters

-   `enabledElement` **[Object][379]** The element on which the module is
                                     being initialised.

## onRegisterCallback

onRegisterCallback - Initialise the module when a new element is added.

## registerModule

registerModule - register a module to the store.

### Parameters

-   `newModule` **[Object][379]** The module to register.
-   `name`  

## removeToolForElement

Removes all tools from the target element with the provided name

### Parameters

-   `element` **any** 
-   `toolName`  
-   `tool` **baseTool** 

## removeTool

Removes all tools from all enabled elements with the provided name

### Parameters

-   `toolName` **baseTool** 

## 

Adds an enabledElement to our store.

### Parameters

-   `elementEnabledEvt` **any** 

## onImageRenderedBrushEventHandler

Used to redraw the brush label map data per render.

### Parameters

-   `evt` **[Object][379]** The event.

## \_drawImageBitmap

Draws the ImageBitmap the canvas.

### Parameters

-   `evt` **[Object][379]** description
-   `imageBitmap`  
-   `alwaysVisible`  

## enable

These listeners are emitted in order, and can be cancelled/prevented from bubbling
by any previous event.

-   mouseMove: used to update the [un]hover state of a tool (highlighting)
-   mouseDown: check to see if we are close to an existing annotation, grab it
-   mouseDownActivate: createNewMeasurement (usually)
-   mouseDrag: update measurement or apply strategy (wwwc)
-   mouseDoubleClick: usually a one-time apply specialty action
-   onImageRendered: redraw visible tool data

### Parameters

-   `element` **any** 

## enable

These listeners are emitted in order, and can be cancelled/prevented from bubbling
by any previous event.

-   tap:
-   touchStart: check to see if we are close to an existing annotation, grab it
-   touchDrag:
-   touchStartActive: createNewMeasurement (usually)
-   touchPress:
-   touchRotate:
-   doubleTap: usually a one-time apply specialty action
-   touchPinch:
-   onImageRendered: redraw visible tool data

### Parameters

-   `element` **any** 

## mouseDown

MouseDown is called before MouseDownActivate. If MouseDown
finds an existing tool to interact with, it can prevent the
event from bubbling to MouseDownActivate.

TODO: Set that a tool is active to prevent multiple event fires
TODO: Handles should trigger image update when released
TODO: Handles should handle deleting out of bound data by setting

### Parameters

-   `evt` **any** 

## mouseMove

This is mostly used to update the [un]hover state
of a tool.

### Parameters

-   `evt` **any** 

## onNewImageBrushEventHandler

Clears the brush imageBitmapCache,
invaldates the data and calls for a re-render.

### Parameters

-   `evt` **[Object][379]** The event.

## removeEnabledElement

Removes an enabledElement from our store, and all associated tools that were added to it.

### Parameters

-   `elementDisabledEvt` **any** 

## setToolModeForElement

An internal method that helps make sure we change tool state in a consistent
way

### Parameters

-   `mode` **any** 
-   `changeEvent` **any** 
-   `element` **any** 
-   `toolName` **any** 
-   `options` **any** 

## setToolMode

A helper/quick way to set a tool's mode for all canvases

### Parameters

-   `mode` **any** 
-   `changeEvent` **any** 
-   `toolName` **any** 
-   `options` **any** 

## createNewMeasurement

Create the measurement data for this tool with the end handle activated

### Parameters

-   `evt` **any** 

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

## renderToolData

### Parameters

-   `evt` **any** 

## addNewMeasurement

### Parameters

-   `evt` **any** 
-   `interactionType` **any** 

## createNewMeasurement

### Parameters

-   `evt` **type** description

Returns **type** description

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

Returns **[boolean][381]** If the point is near the tool

## distanceFromPoint

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

Returns **[number][382]** the distance in px from the provided coordinates to the
closest rendered portion of the annotation. -1 if the distance cannot be
calculated.

## renderToolData

### Parameters

-   `evt` **any** 

## mouseMoveCallback

Event handler for MOUSE_MOVE event.

### Parameters

-   `evt` **[Object][379]** The event.

## handleSelectedCallback

Custom callback for when a handle is selected.

### Parameters

-   `evt` **any** 
-   `handle` **any** The selected handle.
-   `data`  

## toolSelectedCallback

Custom callback for when a tool is selected.

### Parameters

-   `evt` **any** 
-   `data`  
-   `toolState`  
-   `tool` **any** The selected tool.

## createNewMeasurement

Create the measurement data for this tool with the end handle activated

### Parameters

-   `eventData` **any** 

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

## renderToolData

### Parameters

-   `evt` **any** 

## createNewMeasurement

Create the measurement data for this tool with the end handle activated

### Parameters

-   `eventData` **any** 

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

## renderToolData

### Parameters

-   `evt` **any** 

## applyActiveStrategy

### Parameters

-   `evt` **any** 

Returns **any** Any

## \_applyMixins

Applys the requested mixins to the class.

### Parameters

-   `mixins`  
-   `mixinArray` **[Array][380]** An array of mixin names (strings).

## 

Example implementation:

postTouchStartCallback(evt) {
   return false;
}

## 

Callback that is called if the tool is active, after `TOUCH_START`
events are processed. Does nothing by default.

### Parameters

-   `evt` **type** 

Returns **[boolean][381]** consumedEvent - True if function consumed the event.

## 

Example implementation:

preTouchStartCallback(evt) {
   return false;
}

## 

Callback that takes priority if the tool is active, before `TOUCH_START`
events are processed. Does nothing by default.

### Parameters

-   `evt` **type** 

Returns **[boolean][381]** consumedEvent - True if function consumed the event.

## 

Example implementation:

postMouseDownCallback(evt) {
   return false;
}

## 

Callback that takes priority if the tool is active, before `MOUSE_DOWN`
events are processed. Does nothing by default.

### Parameters

-   `evt` **type** 

Returns **[boolean][381]** consumedEvent - True if function consumed the event.

## 

Example implementation:

preMouseDownCallback(evt) {
   return false;
}

## 

Callback that is called if the tool is active, after `MOUSE_DOWN`
events are processed. Does nothing by default.

### Parameters

-   `evt` **type** 

Returns **[boolean][381]** consumedEvent - True if function consumed the event.

## passiveCallback

If one attempts to change mode to 'passive', redirect the tool to 'disabled'.

### Parameters

-   `element` **type** The element on which the tool resides.

## passiveCallback

If one attempts to change mode to 'passive', redirect the tool to 'disabled'.

### Parameters

-   `element` **type** The element on which the tool resides.

## enabledCallback

If one attempts to turn the tool 'enabled', redirect the tool to 'active'.

### Parameters

-   `element` **type** The element on which the tool resides.

## activeCallback

If one attempts to change mode to 'active', redirect the tool to 'enabled'.

### Parameters

-   `element` **type** The element on which the tool resides.

## defaultStrategy

Default strategy will pick the exactly point of mouse/touch interact and display the probe data.

### Parameters

-   `evt`  
-   `config`  

## defaultStrategy

The default strategy keeps the target location fixed on the page
as we zoom in/out.

### Parameters

-   `evt` **any** 
-   `null` **any** { invert, maxScale, minScale }
    -   `null.invert`  
    -   `null.maxScale`  
    -   `null.minScale`  

## minimalStrategy

Minimal strategy will position a circle and use the center of the circle to calculate and display probe data.

### Parameters

-   `evt`  
-   `config`  

## createNewMeasurement

Create the measurement data for this tool with the end handle activated

### Parameters

-   `eventData` **any** 

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

## renderToolData

### Parameters

-   `evt` **any** 

## createNewMeasurement

Create the measurement data for this tool

### Parameters

-   `eventData` **any** 

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

Returns **[Boolean][381]** 

## distanceFromPoint

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

Returns **[number][382]** the distance in px from the provided coordinates to the
closest rendered portion of the annotation. -1 if the distance cannot be
calculated.

## distanceFromPointCanvas

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

Returns **[number][382]** the distance in canvas units from the provided coordinates to the
closest rendered portion of the annotation. -1 if the distance cannot be
calculated.

## renderToolData

### Parameters

-   `evt` **any** 

## addNewMeasurement

Event handler for called by the mouseDownActivate event, if tool is active and
the event is not caught by mouseDownCallback.

### Parameters

-   `evt` **[Object][379]** The event.
-   `interactionType`  

## preMouseDownCallback

Active mouse down callback that takes priority if the user is attempting
to insert or delete a handle with ctrl + click.

### Parameters

-   `evt` **[Object][379]** The event.

## handleSelectedCallback

Custom callback for when a handle is selected.

### Parameters

-   `evt` **[Object][379]** 
-   `handle` **[Object][379]** The selected handle.
-   `data`  

## \_drawingMouseMoveCallback

Event handler for MOUSE_MOVE during drawing event loop.

### Parameters

-   `evt` **[Object][379]** The event.

## \_drawingMouseDownCallback

Event handler for MOUSE_DOWN during drawing event loop.

### Parameters

-   `evt` **[Object][379]** The event.

## \_editMouseDragCallback

Event handler for MOUSE_DRAG during handle drag event loop.

### Parameters

-   `evt` **[Object][379]** The event.

## \_editMouseUpCallback

Event handler for MOUSE_UP during handle drag event loop.

### Parameters

-   `evt` **[Object][379]** The event.

## \_dropHandle

Places a handle of the freehand tool if the new location is valid.
If the new location is invalid the handle snaps back to its previous position.

### Parameters

-   `eventData` **[Object][379]** Data object associated with the event.
-   `toolState` **[Object][379]** The data associated with the freehand tool.

## \_checkHandlesPolygonMode

Returns true if the proposed location of a new handle is invalid (in polygon mode).

### Parameters

-   `data` **[Object][379]** data object associated with the tool.

Returns **[Boolean][381]** 

## insertOrDelete

Inserts or deletes a point from a freehand tool.

### Parameters

-   `evt`  
-   `nearby` **[Object][379]** Object containing information about a nearby handle.
-   `e` **[Object][379]** The event.

## deletePoint

Deletes a point from a freehand tool.

### Parameters

-   `eventData` **[Object][379]** The data object associated with the event.
-   `deleteInfo` **[Object][379]** Object containing information about which point to delete.

## insertPoint

Inserts a new point into a freehand tool.

### Parameters

-   `eventData` **[Object][379]** The data object associated with the event.
-   `insertInfo` **[Object][379]** Object containing information about where to insert the point.

## getInsertionIndex

Gets the handle index of a tool in which to insert the new point.

### Parameters

-   `insertInfo` **[Object][379]** Object containing information about where to insert the point.

## constructor

Constructs a linefinder with the eventdata

### Parameters

-   `eventData` **[Object][379]** Data object associated with the event.

## findLine

Looks for lines near the mouse cursor.

Returns **[ClickedLineData][383]** 

## findTool

Looks for tools near the mouse cursor.

Returns **[ClickedLineData][383]** 

## \_nearestHandleToPointAllTools

Finds the nearest handle to the mouse cursor for all tools.

Returns **[Object][379]** closestHandle - The handle closest to the point.

## \_nearestHandleToPoint

Finds the nearest handle to the mouse cursor for a specific tool.

### Parameters

-   `toolIndex` **[Number][382]** The index of the particular freehand tool.

Returns **[Object][379]** An object containing information about the closest handle.

## \_getCloseLinesInTool

Finds all the lines close to the mouse point for a particular tool.

### Parameters

-   `toolIndex` **[Number][382]** The index of the particular freehand tool.

Returns **[Object][379]** An array of lines close to the mouse point.

## \_findCorrectLine

Finds the line the user clicked on from an array of close lines.

### Parameters

-   `toolIndex` **[Number][382]** The index of the particular freehand tool.
-   `closeLines` **[Object][379]** An array of lines close to the mouse point.

Returns **([ClickedLineData][383] | null)** An instance of ClickedLineData containing information about the line, or null if no line is correct.

## \_pointProjectsToLineSegment

Returns true if the mouse point projects onto the line segment.

### Parameters

-   `toolIndex` **[Number][382]** The index of the particular freehand tool.
-   `handleIndexArray` **[Object][379]** An array of indicies corresponding to the line segment.

Returns **[Boolean][381]** True if the mouse point projects onto the line segment

## \_getLineOriginToMouseAsVector

Constructs a vector from the direction and magnitude of the line from the the line origin to the mouse cursor.

### Parameters

-   `p` **[Object][379]** An array of two points respresenting the line segment.

Returns **[Object][379]** An array containing the x and y components of the vector.

## \_distanceOfPointfromLine

Calculates the perpendicular distance of the mouse cursor from a line segment.

### Parameters

-   `handle1` **[FreehandHandleData][384]** The first handle.
-   `handle2` **[FreehandHandleData][384]** The first handle.

Returns **[Number][382]** The perpendicular distance of the mouse cursor from the line segment.

## getCanvasPointsFromHandles

Returns the canvas positions from the handle's pixel positions.

### Parameters

-   `handle1` **[FreehandHandleData][384]** The first handle.
-   `handle2` **[FreehandHandleData][384]** The second handle.
-   `element` **[Object][379]** The element on which the handles reside.

Returns **[Object][379]** An array contsining the handle positions in canvas coordinates.

## getLineAsVector

Converts a line segment to a vector.

### Parameters

-   `p` **[Object][379]** An array of two points respresenting the line segment.

Returns **[Object][379]** An array containing the x and y components of the vector, as well as a magnitude property.

## getNextHandleIndex

Gets the next handl index from a cyclical array of points.

### Parameters

-   `currentIndex` **[Number][382]** The current index.
-   `length` **[Number][382]** The number of handles in the polygon.

Returns **[Number][382]** The index of the next handle.

## ClickedLineData

Type: [Object][379]

### Properties

-   `toolIndex` **[Number][382]** ID of the tool that the line corresponds to.
-   `handleIndexArray` **[Object][379]** An array of the handle indicies that correspond to the line segment.

## freehandArea

Calculates the area of a freehand tool polygon.

### Parameters

-   `dataHandles` **[Object][379]** data object associated with the tool.
-   `scaling` **[Object][379]** Area scaling of image.

Returns **[Number][382]** The area of the polygon.

## calculateFreehandStatistics

Calculates the statistics of all the points within the freehand object.

### Parameters

-   `sp` **[Object][379]** An array of the pixel data.
-   `boundingBox` **[Object][379]** Rectangular box enclosing the polygon.
-   `dataHandles` **[Object][379]** Data object associated with the tool.

Returns **[Object][379]** statisticsObj - Object containing the derived statistics.

## getSum

Calculates the sum, squared sum and count of all pixels within the polygon.

### Parameters

-   `sp` **[Object][379]** An array of the pixel data.
-   `boundingBox` **[Object][379]** Rectangular box enclosing the polygon.
-   `dataHandles` **[Object][379]** Data object associated with the tool.

Returns **[Object][379]** sum - Object containing the sum, squared sum and pixel count.

## sumPointIfInFreehand

Adds the pixel to the workingSum if it is within the polygon.

### Parameters

-   `dataHandles` **[Object][379]** Data object associated with the tool.
-   `point` **[Object][379]** The pixel coordinates.
-   `workingSum` **[Object][379]** The working sum, squared sum and pixel count.
-   `pixelValue` **[Object][379]** The pixel value.

## pointInFreehand

Calculates if "point" is inside the polygon defined by dataHandles by counting
the number of times a ray originating from "point" crosses the edges of the
polygon. Odd === inside, Even === outside. The bool "inROI" flips every time
the ray originating from location and pointing to the right crosses a
linesegment.

### Parameters

-   `dataHandles`  
-   `location`  

## isEnclosedY

Returns true if the y-position yp is enclosed within y-positions y1 and y2.

### Parameters

-   `yp` **[Number][382]** The y position of point p.
-   `y1` **[Number][382]** The y position of point 1.
-   `y2` **[Number][382]** The y position of point 2.

Returns **[Boolean][381]** True if the y-position yp is enclosed within y-positions y1 and y2.

## isLineRightOfPoint

Returns true if the line segment is to the right of the point.

### Parameters

-   `point` **[Object][379]** The point being queried.
-   `lp1` **[Object][379]** The first point of the line segment.
-   `lp2` **[Object][379]** The second point of the line segment.

Returns **[Boolean][381]** True if the line is to the right of the point.

## lineSegmentAtPoint

Returns the y value of the line segment at the x value of the point.

### Parameters

-   `point` **[Object][379]** The point being queried.
-   `lp1` **[Object][379]** The first point of the line segment.
-   `lp2` **[Object][379]** The second point of the line segment.

Returns **[Object][379]** An object containing the y value as well as the gradient of the line segment.

## rayFromPointCrosssesLine

Returns true if a rightwards ray originating from the point crosses the line defined by handleI and handleJ.

### Parameters

-   `point` **[Object][379]** The point being queried.
-   `handleI` **[Object][379]** The first handle of the line segment.
-   `handleJ` **[Object][379]** The second handle of the line segment.

Returns **[Boolean][381]** True if a rightwards ray originating from the point crosses the line defined by handleI and handleJ.

## newHandle

Determines whether a new handle causes an intersection of the lines of the polygon.

### Parameters

-   `candidateHandle` **[Object][379]** The new handle to check.
-   `dataHandles` **[Object][379]** data object associated with the tool.

Returns **[Boolean][381]** Whether the new line intersects with any other lines of the polygon.

## newHandle

Orientation algoritm to determine if two lines cross.
Credit and details: geeksforgeeks.org/check-if-two-given-line-segments-intersect/

### Parameters

-   `candidateHandle`  
-   `dataHandles`  

## end

Checks if the last line of a polygon will intersect the other lines of the polgyon.

### Parameters

-   `dataHandles` **[Object][379]** data object associated with the tool.

Returns **[Boolean][381]** Whether the last line intersects with any other lines of the polygon.

## modify

Checks whether the modification of a handle's position causes intersection of the lines of the polygon

### Parameters

-   `dataHandles` **[Object][379]** data object associated with the tool.
-   `modifiedHandleId` **[Number][382]** The id of the handle being modified.

Returns **[Boolean][381]** Whether the modfication causes any intersections.

## doesIntersectOtherLines

Checks whether the line (p1,q1) intersects any of the other lines in the polygon.

### Parameters

-   `dataHandles` **[Object][379]** data object associated with the tool.
-   `p1` **[Object][379]** Coordinates of the start of the line.
-   `q1` **[Object][379]** Coordinates of the end of the line.
-   `ignoredHandleIds` **[Object][379]** Ids of handles to ignore (i.e. lines that share a vertex with the line being tested).

Returns **[Boolean][381]** Whether the line intersects any of the other lines in the polygon.

## doesIntersect

Checks whether the line (p1,q1) intersects the line (p2,q2) via an orientation algorithm.

### Parameters

-   `p1` **[Object][379]** Coordinates of the start of the line 2.
-   `q1` **[Object][379]** Coordinates of the end of the line 2.
-   `p2`  
-   `q2`  

Returns **[Boolean][381]** Whether lines (p1,q1) and (p2,q2) intersect.

## orientation

Checks the orientation of 3 points.

### Parameters

-   `p` **[Object][379]** First point.
-   `q` **[Object][379]** Second point.
-   `r` **[Object][379]** Third point.

Returns **[Number][382]** 0: Colinear, 1: Clockwise, 2: Anticlockwise

## onSegment

Checks if point q lines on the segment (p,r).

### Parameters

-   `p` **[Object][379]** Point p.
-   `q` **[Object][379]** Point q.
-   `r` **[Object][379]** Point r.

Returns **[Boolean][381]** If q lies on line segment (p,r).

## FreehandHandleData

Type: [Object][379]

### Properties

-   `x` **[Number][382]** The x position.
-   `y` **[Number][382]** The y position.
-   `highlight` **[Boolean][381]** Whether the handle should be rendered as the highlighted color.
-   `active` **[Boolean][381]** Whether the handle is active.
-   `lines` **[Object][379]** An array of lines associated with the handle.

## renderToolData

Event handler for IMAGE_RENDERED event.

### Parameters

-   `evt` **[Object][379]** The event.

## preMouseDownCallback

Event handler for MOUSE_DOWN.

### Parameters

-   `evt` **[Object][379]** The event.

## activeMouseDragCallback

Event handler for MOUSE_DRAG during the active loop.

### Parameters

-   `evt` **[Object][379]** The event.

## activeMouseUpCallback

Event handler for MOUSE_UP during the active loop.

### Parameters

-   `evt` **[Object][379]** The event.

## newImageCallback

Event handler for NEW_IMAGE event.

### Parameters

-   `evt` **[Object][379]** The event.

## enabledCallback

Event handler for switching mode to enabled.

### Parameters

-   `evt` **[Object][379]** The event.

## passiveCallback

Event handler for switching mode to passive.

### Parameters

-   `evt` **[Object][379]** The event.

## disabledCallback

Event handler for switching mode to disabled.

### Parameters

-   `evt` **[Object][379]** The event.

## getDefaultFreehandSculpterMouseToolConfiguration

Returns the default freehandSculpterMouseTool configuration.

Returns **[Object][379]** The default configuration object.

## changeTextCallback

This function is a callback to be overwriten in order to provide the wante feature
modal, overlay, popup or any kind of interaction with the user to be able to update
the text marker label.

### Parameters

-   `data`  
-   `eventData`  
-   `doneChangingTextCallback`  

## createNewMeasurement

Create the measurement data for this tool with the end handle activated

### Parameters

-   `eventData` **any** 

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

## renderToolData

### Parameters

-   `evt` **any** 

## \_drawZoomedElement

Creates a cornerstone enabled element, and renders the target image at the
desired magnification level using it.

### Parameters

-   `evt` **any** 

## \_removeZoomElement

Removes the canvas and associated enabled element that's
used to render the zoomed image.

## \_createMagnificationCanvas

The canvas used to render the zoomed image.
It will be displayed and clipped inside the magnifying glass frame/element.

### Parameters

-   `element` **any** 

## \_destroyMagnificationCanvas

### Parameters

-   `evt` **any** 

## createNewMeasurement

Create the measurement data for this tool with the end handle activated

### Parameters

-   `eventData` **any** 

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

## renderToolData

### Parameters

-   `evt` **any** 

## createNewMeasurement

Create the measurement data for this tool with the end handle activated

### Parameters

-   `eventData` **any** 

## pointNearTool

### Parameters

-   `element` **any** 
-   `data` **any** 
-   `coords` **any** 

## renderToolData

### Parameters

-   `evt` **any** 

## angleBetweenPoints

### Parameters

-   `p0`  
-   `p1`  
-   `p2`  

## computeScaleBounds

Computes the max bound for scales on the image

### Parameters

-   `canvasSize`  
-   `horizontalReduction`  
-   `verticalReduction`  

## drawVerticalScalebarIntervals

### Parameters

-   `context`  
-   `element`  
-   `imageAttributes`  

## basicLevelingStrategy

Here we normalize the ww/wc adjustments so the same number of on screen pixels
adjusts the same percentage of the dynamic range of the image.  This is needed to
provide consistency for the ww/wc tool regardless of the dynamic range (e.g. an 8 bit
image will feel the same as a 16 bit image would)

### Parameters

-   `evt`  
-   `$1` **[Object][379]** 
    -   `$1.orientation`  
-   `eventData`  

## \_startOutliningRegion

Sets the start handle point and claims the eventDispatcher event

### Parameters

-   `evt` **any** 

Returns **[Boolean][381]** True

## \_setHandlesAndUpdate

This function will update the handles and updateImage to force re-draw

### Parameters

-   `evt`  

## \_applyStrategy

Event handler for MOUSE_UP during handle drag event loop.

### Parameters

-   `evt` **[Object][379]** The event.

## \_resetHandles

Sets the start and end handle points to empty objects

## isEmptyObject

### Parameters

-   `obj` **any** 

## applyWWWCRegion

Calculates the minimum and maximum value in the given pixel array

### Parameters

-   `evt` **any** 
-   `config` **any** 

## calculateMinMaxMean

Calculates the minimum, maximum, and mean value in the given pixel array

### Parameters

-   `storedPixelLuminanceData` **any** 
-   `globalMin` **any** 
-   `globalMax` **any** 

## touchPinchCallback

### Parameters

-   `evt` **any** 

## mouseWheelCallback

### Parameters

-   `evt` **any** 

## convertToVector3

Convert an Array to a cornerstoneMath.Vector3

### Parameters

-   `arrayOrVector3` **([Array][380] | cornerstoneMath.Vector3)** Input array or Vector3

Returns **cornerstoneMath.Vector3** 

## renderBrush

Called by the event dispatcher to render the image.

### Parameters

-   `evt` **[Object][379]** The event.

## renderBrush

Helper function for rendering the brush.

### Parameters

-   `evt` **[Object][379]** The event.

## \_paint

Paints the data to the canvas.

### Parameters

-   `eventData` **[Object][379]** The data object associated with the event.

## mouseDragCallback

Event handler for MOUSE_DRAG event.

### Parameters

-   `evt` **[Object][379]** The event.

## preMouseDownCallback

Event handler for MOUSE_DOWN event.

### Parameters

-   `evt` **[Object][379]** The event.

## \_startPainting

Initialise painting with baseBrushTool

### Parameters

-   `evt` **[Object][379]** The event.

## mouseMoveCallback

Event handler for MOUSE_MOVE event.

### Parameters

-   `evt` **[Object][379]** The event.

## passiveCallback

Event handler for switching mode to passive;

### Parameters

-   `evt` **[Object][379]** The event.

## renderToolData

Used to redraw the tool's annotation data per render.

### Parameters

-   `evt` **[Object][379]** The event.

## \_getBrushColor

Get the draw color (segmentation) of the tool.

### Parameters

-   `drawId` **[Number][382]** The id of the color (segmentation) to switch to.

## \_drawingMouseUpCallback

Event handler for MOUSE_UP during the drawing event loop.

### Parameters

-   `evt` **[Object][379]** The event.

## \_startListeningForMouseUp

Adds modify loop event listeners.

### Parameters

-   `element` **[Object][379]** The viewport element to add event listeners to.

## \_stopListeningForMouseUp

Adds modify loop event listeners.

### Parameters

-   `element` **[Object][379]** The viewport element to add event listeners to.

## nextSegmentation

Switches to the next segmentation color.

## previousSegmentation

Switches to the previous segmentation color.

## increaseBrushSize

Increases the brush size

## decreaseBrushSize

Decreases the brush size

## showSegmentationOnElement

Displays a segmentation on the element.

### Parameters

-   `segIndex` **[Number][382]** The index of the segmentation.
-   `enabledElement` **[String][377]** The enabledElement on which to display.

## hideSegmentationOnElement

Hides a segmentation on an element.

### Parameters

-   `segIndex` **[Number][382]** The index of the segmentation.

## showAllSegmentationsOnElement

Displays all segmentations on an element.

## hideAllSegmentationsOnElement

Hides all segmentations on an element.

## getNumberOfColors

Returns the number of colors in the colormap.

Returns **[Number][382]** The number of colors in the color map.

## getReferencedToolDataName

Returns the toolData type assoicated with this type of tool.

Returns **[String][377]** The number of colors in the color map.

## setContextToDisplayFontSize

Sets the canvas context transformation matrix so it is scaled to show text
more cleanly even if the image is scaled up.  See
[https://github.com/cornerstonejs/cornerstoneTools/wiki/DrawingText][385]
for more information

### Parameters

-   `enabledElement`  
-   `context`  
-   `fontSize`  

Returns **{fontSize: [number][382], lineHeight: [number][382], fontScale: [number][382]}** 

## makeUnselectable

A helper function to make an element (and its content) being non selectable.

### Parameters

-   `element`  {HTMLElement} The element to make unselectable
-   `ignorePointerEvents`  {Boolean} true to make this element also ignore events
    (e.g. mouse click), false otherwise

Returns **void** 

## 

**Meta**

-   **deprecated**: Use drawing.js:drawEllipse()


## drawCircle

### Parameters

-   `context`  
-   `start`  
-   `color`  
-   `lineWidth`  

**Meta**

-   **deprecated**: Use drawing.js:drawCircle()


## drawCircle

Draw a circle with given `center` and `radius`.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `element` **[HTMLElement][378]** The DOM Element to draw on
-   `center` **[Object][379]** `{ x, y }` in either pixel or canvas coordinates.
-   `radius` **[number][382]** The circle's radius in canvas units.
-   `options` **[Object][379]** See [path][359]
-   `coordSystem` **[String][377]** Can be "pixel" (default) or "canvas". The coordinate
        system of the points passed in to the function. If "pixel" then cornerstone.pixelToCanvas
        is used to transform the points from pixel to canvas coordinates. (optional, default `'pixel'`)

## triggerEvent

Trigger a CustomEvent

### Parameters

-   `el` **EventTarget** The element or EventTarget to trigger the event upon
-   `type` **[String][377]** The event type name
-   `detail` **([Object][379] | null)** =null The event data to be sent (optional, default `null`)

Returns **[Boolean][381]** The return value is false if at least one event listener called preventDefault(). Otherwise it returns true.

## getPlayClipTimeouts

[private] Turns a Frame Time Vector (0018,1065) array into a normalized array of timeouts. Each element
... of the resulting array represents the amount of time each frame will remain on the screen.

### Parameters

-   `vector` **[Array][380]** A Frame Time Vector (0018,1065) as specified in section C.7.6.5.1.2 of DICOM standard.
-   `speed` **[Number][382]** A speed factor which will be applied to each element of the resulting array.

Returns **[Array][380]** An array with timeouts for each animation frame.

## stopClipWithData

[private] Performs the heavy lifting of stopping an ongoing animation.

### Parameters

-   `playClipData` **[Object][379]** The data from playClip that needs to be stopped.

Returns **any** void

## triggerStopEvent

[private] Trigger playClip tool stop event.

### Parameters

-   `element`  

Returns **any** void

## playClip

Starts playing a clip or adjusts the frame rate of an already playing clip.  framesPerSecond is
optional and defaults to 30 if not specified.  A negative framesPerSecond will play the clip in reverse.
The element must be a stack of images

### Parameters

-   `element`  
-   `framesPerSecond`  

## stopClip

Stops an already playing clip.

-   @param element

### Parameters

-   `element`  

## getToolOptions

Retrieve the options object associated with a particular toolType and element

### Parameters

-   `toolType` **[string][377]** Tool type identifier of the target options object
-   `element` **[HTMLElement][378]** Element of the target options object

Returns **[Object][379]** Target options object (empty if not yet set)

## clearToolOptions

Clear the options object associated with a particular toolType and element

### Parameters

-   `toolType` **[string][377]** Tool type identifier of the target options object
-   `element` **[HTMLElement][378]** Element of the target options object

Returns **void** 

## clearToolOptionsByToolType

Clear the options objects associated with a particular toolType

### Parameters

-   `toolType` **[string][377]** Tool type identifier of the target options objects

Returns **void** 

## clearToolOptionsByElement

Clear the options objects associated with a particular element

### Parameters

-   `element` **[HTMLElement][378]** Element of the target options objects

Returns **void** 

## getNewContext

Create a new [context][387] object for the given [canvas][388]
and set the transform to the [identity transform][389].

### Parameters

-   `canvas` **[HTMLCanvasElement][390]** 

Returns **[CanvasRenderingContext2D][386]** 

## FillStyle

A [color, gradient or pattern][391] to use inside shapes.

Type: ([String][377] \| [CanvasGradient][392] \| [CanvasPattern][393])

## StrokeStyle

A [color, gradient or pattern][394] to use for the lines around shapes.

Type: ([String][377] \| [CanvasGradient][392] \| [CanvasPattern][393])

## ContextFn

Type: [Function][395]

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 

## draw

This function manages the [save/restore][396]
pattern for working in a new context state stack. The parameter `fn` is passed the `context` and can
execute any API calls in a clean stack.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `fn` **[ContextFn][397]** A function which performs drawing operations within the given context.

## path

This function manages the beginPath/stroke pattern for working with
[path objects][398].

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `options` **[Object][379]** 
    -   `options.color` **[StrokeStyle][399]**  The stroke style of the path.
    -   `options.lineWidth` **[Number][382]**  The width of lines in the path. If null, no line width is set.
            If undefined then toolStyle.getToolWidth() is set.
    -   `options.fillStyle` **[FillStyle][400]** The style to fill the path with. If undefined then no filling is done.
    -   `options.lineDash` **[Array][380]&lt;[Number][382]>** The [dash pattern][401]
            to use on the lines.
-   `fn` **[ContextFn][397]** A drawing function to execute with the provided stroke pattern.

## setShadow

Set the [shadow][402] properties of the context.
Each property is set on the context object if defined, otherwise a default value is set.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `options` **[Object][379]** 
    -   `options.shadow` **[Boolean][381]** Whether to set any shadow options
    -   `options.shadowColor` **[String][377]** Default value: #000000
    -   `options.shadowOffsetX` **[Number][382]** Default value: 1
    -   `options.shadowOffsetY` **[Number][382]** Default value: 1

## drawLine

Draw a line between `start` and `end`.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `element` **[HTMLElement][378]** The DOM Element to draw on
-   `start` **[Object][379]** \`{ x, y } in either pixel or canvas coordinates.
-   `end` **[Object][379]** `{ x, y }` in either pixel or canvas coordinates.
-   `options` **[Object][379]** See [path][359]
-   `coordSystem` **[String][377]** Can be "pixel" (default) or "canvas". The coordinate
        system of the points passed in to the function. If "pixel" then cornerstone.pixelToCanvas
        is used to transform the points from pixel to canvas coordinates. (optional, default `'pixel'`)

## drawLines

Draw multiple lines.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `element` **[HTMLElement][378]** The DOM Element to draw on
-   `lines` **[Array][380]&lt;[Object][379]>** `[{ start: {x, y}, end: { x, y }]` An array of `start`, `end` pairs.
        Each point is `{ x, y }` in either pixel or canvas coordinates.
-   `options` **[Object][379]** See [path][359]
-   `coordSystem` **[String][377]** Can be "pixel" (default) or "canvas". The coordinate
        system of the points passed in to the function. If "pixel" then cornerstone.pixelToCanvas
        is used to transform the points from pixel to canvas coordinates. (optional, default `'pixel'`)

## drawJoinedLines

Draw a series of joined lines, starting at `start` and then going to each point in `points`.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `element` **[HTMLElement][378]** The DOM Element to draw on
-   `start` **[Object][379]** `{ x, y }` in either pixel or canvas coordinates.
-   `points` **[Array][380]&lt;[Object][379]>** `[{ x, y }]` An array of points in either pixel or canvas coordinates.
-   `options` **[Object][379]** See [path][359]
-   `coordSystem` **[String][377]** Can be "pixel" (default) or "canvas". The coordinate
        system of the points passed in to the function. If "pixel" then cornerstone.pixelToCanvas
        is used to transform the points from pixel to canvas coordinates. (optional, default `'pixel'`)

## drawEllipse

Draw an ellipse within the bounding box defined by `corner1` and `corner2`.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `element` **[HTMLElement][378]** The DOM Element to draw on
-   `corner1` **[Object][379]** `{ x, y }` in either pixel or canvas coordinates.
-   `corner2` **[Object][379]** `{ x, y }` in either pixel or canvas coordinates.
-   `options` **[Object][379]** See [path][359]
-   `coordSystem` **[String][377]** Can be "pixel" (default) or "canvas". The coordinate
        system of the points passed in to the function. If "pixel" then cornerstone.pixelToCanvas
        is used to transform the points from pixel to canvas coordinates. (optional, default `'pixel'`)

## drawRect

Draw a rectangle defined by `corner1` and `corner2`.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `element` **[HTMLElement][378]** The DOM Element to draw on
-   `corner1` **[Object][379]** `{ x, y }` in either pixel or canvas coordinates.
-   `corner2` **[Object][379]** `{ x, y }` in either pixel or canvas coordinates.
-   `options` **[Object][379]** See [path][359]
-   `coordSystem` **[String][377]** Can be "pixel" (default) or "canvas". The coordinate
        system of the points passed in to the function. If "pixel" then cornerstone.pixelToCanvas
        is used to transform the points from pixel to canvas coordinates. (optional, default `'pixel'`)

## fillBox

Draw a filled rectangle defined by `boundingBox` using the style defined by `fillStyle`.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `boundingBox` **[Object][379]** `{ left, top, width, height }` in canvas coordinates.
-   `fillStyle` **[FillStyle][400]** The fillStyle to apply to the region.

## fillTextLines

Draw multiple lines of text within a bounding box.

### Parameters

-   `context` **[CanvasRenderingContext2D][386]** 
-   `boundingBox` **[Object][379]** `{ left, top }` in canvas coordinates. Only the top-left corner is specified, as the text will take up as much space as it needs.
-   `textLines` **[Array][380]&lt;[String][377]>** The text to be displayed.
-   `fillStyle` **[FillStyle][400]** The fillStyle to apply to the text.
-   `padding` **[Number][382]** The amount of padding above/below each line in canvas units. Note this gives an inter-line spacing of `2*padding`.

[1]: #core

[2]: #addtool

[3]: #parameters

[4]: #addtoolforelement

[5]: #parameters-1

[6]: #settooloptions

[7]: #parameters-2

[8]: #settooloptions-1

[9]: #parameters-3

[10]: #settooloptionsforelement

[11]: #parameters-4

[12]: #tool-modes

[13]: #settoolactiveforelement

[14]: #parameters-5

[15]: #settoolpassiveforelement

[16]: #parameters-6

[17]: #settoolenabledforelement

[18]: #parameters-7

[19]: #settooldisabledforelement

[20]: #parameters-8

[21]: #setradius

[22]: #parameters-9

[23]: #setbrushcolormap

[24]: #parameters-10

[25]: #enabledelementcallback

[26]: #parameters-11

[27]: #onregistercallback

[28]: #registermodule

[29]: #parameters-12

[30]: #removetoolforelement

[31]: #parameters-13

[32]: #removetool

[33]: #parameters-14

[34]: #parameters-15

[35]: #onimagerenderedbrusheventhandler

[36]: #parameters-16

[37]: #_drawimagebitmap

[38]: #parameters-17

[39]: #enable

[40]: #parameters-18

[41]: #enable-1

[42]: #parameters-19

[43]: #mousedown

[44]: #parameters-20

[45]: #mousemove

[46]: #parameters-21

[47]: #onnewimagebrusheventhandler

[48]: #parameters-22

[49]: #removeenabledelement

[50]: #parameters-23

[51]: #settoolmodeforelement

[52]: #parameters-24

[53]: #settoolmode

[54]: #parameters-25

[55]: #createnewmeasurement

[56]: #parameters-26

[57]: #pointneartool

[58]: #parameters-27

[59]: #rendertooldata

[60]: #parameters-28

[61]: #addnewmeasurement

[62]: #parameters-29

[63]: #createnewmeasurement-1

[64]: #parameters-30

[65]: #pointneartool-1

[66]: #parameters-31

[67]: #distancefrompoint

[68]: #parameters-32

[69]: #rendertooldata-1

[70]: #parameters-33

[71]: #mousemovecallback

[72]: #parameters-34

[73]: #handleselectedcallback

[74]: #parameters-35

[75]: #toolselectedcallback

[76]: #parameters-36

[77]: #createnewmeasurement-2

[78]: #parameters-37

[79]: #pointneartool-2

[80]: #parameters-38

[81]: #rendertooldata-2

[82]: #parameters-39

[83]: #createnewmeasurement-3

[84]: #parameters-40

[85]: #pointneartool-3

[86]: #parameters-41

[87]: #rendertooldata-3

[88]: #parameters-42

[89]: #applyactivestrategy

[90]: #parameters-43

[91]: #_applymixins

[92]: #parameters-44

[93]: #parameters-45

[94]: #parameters-46

[95]: #parameters-47

[96]: #parameters-48

[97]: #passivecallback

[98]: #parameters-49

[99]: #passivecallback-1

[100]: #parameters-50

[101]: #enabledcallback

[102]: #parameters-51

[103]: #activecallback

[104]: #parameters-52

[105]: #defaultstrategy

[106]: #parameters-53

[107]: #defaultstrategy-1

[108]: #parameters-54

[109]: #minimalstrategy

[110]: #parameters-55

[111]: #createnewmeasurement-4

[112]: #parameters-56

[113]: #pointneartool-4

[114]: #parameters-57

[115]: #rendertooldata-4

[116]: #parameters-58

[117]: #createnewmeasurement-5

[118]: #parameters-59

[119]: #pointneartool-5

[120]: #parameters-60

[121]: #distancefrompoint-1

[122]: #parameters-61

[123]: #distancefrompointcanvas

[124]: #parameters-62

[125]: #rendertooldata-5

[126]: #parameters-63

[127]: #addnewmeasurement-1

[128]: #parameters-64

[129]: #premousedowncallback

[130]: #parameters-65

[131]: #handleselectedcallback-1

[132]: #parameters-66

[133]: #_drawingmousemovecallback

[134]: #parameters-67

[135]: #_drawingmousedowncallback

[136]: #parameters-68

[137]: #_editmousedragcallback

[138]: #parameters-69

[139]: #_editmouseupcallback

[140]: #parameters-70

[141]: #_drophandle

[142]: #parameters-71

[143]: #_checkhandlespolygonmode

[144]: #parameters-72

[145]: #insertordelete

[146]: #parameters-73

[147]: #deletepoint

[148]: #parameters-74

[149]: #insertpoint

[150]: #parameters-75

[151]: #getinsertionindex

[152]: #parameters-76

[153]: #constructor

[154]: #parameters-77

[155]: #findline

[156]: #findtool

[157]: #_nearesthandletopointalltools

[158]: #_nearesthandletopoint

[159]: #parameters-78

[160]: #_getcloselinesintool

[161]: #parameters-79

[162]: #_findcorrectline

[163]: #parameters-80

[164]: #_pointprojectstolinesegment

[165]: #parameters-81

[166]: #_getlineorigintomouseasvector

[167]: #parameters-82

[168]: #_distanceofpointfromline

[169]: #parameters-83

[170]: #getcanvaspointsfromhandles

[171]: #parameters-84

[172]: #getlineasvector

[173]: #parameters-85

[174]: #getnexthandleindex

[175]: #parameters-86

[176]: #clickedlinedata

[177]: #properties

[178]: #freehandarea

[179]: #parameters-87

[180]: #calculatefreehandstatistics

[181]: #parameters-88

[182]: #getsum

[183]: #parameters-89

[184]: #sumpointifinfreehand

[185]: #parameters-90

[186]: #pointinfreehand

[187]: #parameters-91

[188]: #isenclosedy

[189]: #parameters-92

[190]: #islinerightofpoint

[191]: #parameters-93

[192]: #linesegmentatpoint

[193]: #parameters-94

[194]: #rayfrompointcrosssesline

[195]: #parameters-95

[196]: #newhandle

[197]: #parameters-96

[198]: #newhandle-1

[199]: #parameters-97

[200]: #end

[201]: #parameters-98

[202]: #modify

[203]: #parameters-99

[204]: #doesintersectotherlines

[205]: #parameters-100

[206]: #doesintersect

[207]: #parameters-101

[208]: #orientation

[209]: #parameters-102

[210]: #onsegment

[211]: #parameters-103

[212]: #freehandhandledata

[213]: #properties-1

[214]: #rendertooldata-6

[215]: #parameters-104

[216]: #premousedowncallback-1

[217]: #parameters-105

[218]: #activemousedragcallback

[219]: #parameters-106

[220]: #activemouseupcallback

[221]: #parameters-107

[222]: #newimagecallback

[223]: #parameters-108

[224]: #enabledcallback-1

[225]: #parameters-109

[226]: #passivecallback-2

[227]: #parameters-110

[228]: #disabledcallback

[229]: #parameters-111

[230]: #getdefaultfreehandsculptermousetoolconfiguration

[231]: #changetextcallback

[232]: #parameters-112

[233]: #createnewmeasurement-6

[234]: #parameters-113

[235]: #pointneartool-6

[236]: #parameters-114

[237]: #rendertooldata-7

[238]: #parameters-115

[239]: #_drawzoomedelement

[240]: #parameters-116

[241]: #_removezoomelement

[242]: #_createmagnificationcanvas

[243]: #parameters-117

[244]: #_destroymagnificationcanvas

[245]: #parameters-118

[246]: #createnewmeasurement-7

[247]: #parameters-119

[248]: #pointneartool-7

[249]: #parameters-120

[250]: #rendertooldata-8

[251]: #parameters-121

[252]: #createnewmeasurement-8

[253]: #parameters-122

[254]: #pointneartool-8

[255]: #parameters-123

[256]: #rendertooldata-9

[257]: #parameters-124

[258]: #anglebetweenpoints

[259]: #parameters-125

[260]: #computescalebounds

[261]: #parameters-126

[262]: #drawverticalscalebarintervals

[263]: #parameters-127

[264]: #basiclevelingstrategy

[265]: #parameters-128

[266]: #_startoutliningregion

[267]: #parameters-129

[268]: #_sethandlesandupdate

[269]: #parameters-130

[270]: #_applystrategy

[271]: #parameters-131

[272]: #_resethandles

[273]: #isemptyobject

[274]: #parameters-132

[275]: #applywwwcregion

[276]: #parameters-133

[277]: #calculateminmaxmean

[278]: #parameters-134

[279]: #touchpinchcallback

[280]: #parameters-135

[281]: #mousewheelcallback

[282]: #parameters-136

[283]: #converttovector3

[284]: #parameters-137

[285]: #renderbrush

[286]: #parameters-138

[287]: #renderbrush-1

[288]: #parameters-139

[289]: #_paint

[290]: #parameters-140

[291]: #mousedragcallback

[292]: #parameters-141

[293]: #premousedowncallback-2

[294]: #parameters-142

[295]: #_startpainting

[296]: #parameters-143

[297]: #mousemovecallback-1

[298]: #parameters-144

[299]: #passivecallback-3

[300]: #parameters-145

[301]: #rendertooldata-10

[302]: #parameters-146

[303]: #_getbrushcolor

[304]: #parameters-147

[305]: #_drawingmouseupcallback

[306]: #parameters-148

[307]: #_startlisteningformouseup

[308]: #parameters-149

[309]: #_stoplisteningformouseup

[310]: #parameters-150

[311]: #nextsegmentation

[312]: #previoussegmentation

[313]: #increasebrushsize

[314]: #decreasebrushsize

[315]: #showsegmentationonelement

[316]: #parameters-151

[317]: #hidesegmentationonelement

[318]: #parameters-152

[319]: #showallsegmentationsonelement

[320]: #hideallsegmentationsonelement

[321]: #getnumberofcolors

[322]: #getreferencedtooldataname

[323]: #setcontexttodisplayfontsize

[324]: #parameters-153

[325]: #makeunselectable

[326]: #parameters-154

[327]: #drawcircle

[328]: #parameters-155

[329]: #drawcircle-1

[330]: #parameters-156

[331]: #triggerevent

[332]: #parameters-157

[333]: #getplaycliptimeouts

[334]: #parameters-158

[335]: #stopclipwithdata

[336]: #parameters-159

[337]: #triggerstopevent

[338]: #parameters-160

[339]: #playclip

[340]: #parameters-161

[341]: #stopclip

[342]: #parameters-162

[343]: #gettooloptions

[344]: #parameters-163

[345]: #cleartooloptions

[346]: #parameters-164

[347]: #cleartooloptionsbytooltype

[348]: #parameters-165

[349]: #cleartooloptionsbyelement

[350]: #parameters-166

[351]: #getnewcontext

[352]: #parameters-167

[353]: #fillstyle

[354]: #strokestyle

[355]: #contextfn

[356]: #parameters-168

[357]: #draw

[358]: #parameters-169

[359]: #path

[360]: #parameters-170

[361]: #setshadow

[362]: #parameters-171

[363]: #drawline

[364]: #parameters-172

[365]: #drawlines

[366]: #parameters-173

[367]: #drawjoinedlines

[368]: #parameters-174

[369]: #drawellipse

[370]: #parameters-175

[371]: #drawrect

[372]: #parameters-176

[373]: #fillbox

[374]: #parameters-177

[375]: #filltextlines

[376]: #parameters-178

[377]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[378]: https://developer.mozilla.org/docs/Web/HTML/Element

[379]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[380]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[381]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[382]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[383]: #clickedlinedata

[384]: #freehandhandledata

[385]: https://github.com/cornerstonejs/cornerstoneTools/wiki/DrawingText

[386]: https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D

[387]: https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D

[388]: https://developer.mozilla.org/docs/Web/API/HTMLCanvasElement

[389]: https://www.w3.org/TR/2dcontext/#transformations

[390]: https://developer.mozilla.org/docs/Web/API/HTMLCanvasElement

[391]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle

[392]: https://developer.mozilla.org/docs/Web/API/CanvasGradient

[393]: https://developer.mozilla.org/docs/Web/API/CanvasPattern

[394]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/strokeStyle

[395]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[396]: https://www.w3.org/TR/2dcontext/#the-canvas-state

[397]: #contextfn

[398]: https://www.w3.org/TR/2dcontext/#drawing-paths-to-the-canvas

[399]: #strokestyle

[400]: #fillstyle

[401]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash

[402]: https://www.w3.org/TR/2dcontext/#shadows
